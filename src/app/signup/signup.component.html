<!-- <app-home-header></app-home-header> -->


<mat-toolbar color="primary" class="top-menu mat-elevation-z5">
  <!-- <div fxLayout="row" fxLayoutAlign="space-around center" fxLayoutGap="10" style="width:100%">
    <div>
      <mat-icon class="action-icon" [routerLink]="['/']">arrow_back</mat-icon>
    </div>
    <div>
      Signup
    </div>
    <div>

    </div>
  </div> -->

  <div style="width:100%" fxLayoutGap="10px" fxLayout="row" fxLayoutAlign="space-between center">
    <div fxFlex="15">
      <button mat-icon-button id="signup_back_btn" name="signup_back_btn" class="signup_back_btn">
        <mat-icon class="action-icon" [routerLink]="['/']">arrow_back</mat-icon>
      </button>
    </div>
    <div fxFlex="65">
      <h4>Signup</h4>
    </div>
    <div fxFlex="20">
      <!-- <button type="submit" mat-raised-button color="accent">Save</button> -->
      <!-- <button mat-raised-button [disabled]="signupForm.invalid || !existingUsers || !confirmPassword.valid || !confirmPassword.value" type="button" (click)="submit(signupForm.value)"
              color="accent">Save</button> -->
    </div>
  </div>
</mat-toolbar>
<div class="form-body">
  <!-- <div class="top-menu-spacer">

  </div> -->
  <div class="app-background">
  <form [formGroup]="signupForm">
    <div fxLayout="row" fxLayoutAlign="center center">
      <mat-card>
        <mat-card-header>

        </mat-card-header>
        <mat-card-content>

          <div fxLayout="column" fxLayoutAlign="center center">
            <div fxLayout="column" fxLayoutAlign="center center" class="field">
              <img src="assets/images/perfecto-logo.png" height="35">
              <p style="margin: 0pt; font-size: 14pt; padding-bottom: 10pt; padding-top: 10pt;">Expense Tracker</p>
            </div>
            <div fxLayout="column" fxLayoutAlign="center start" class="field">
              <!-- <img  src="assets/images/perfecto-logo.png" height="45">
              <h4>Expense Tracker</h4> -->
              <label class="login-form-field">Name*</label>
              <div>
                <mat-form-field appearance="outline" color="accent" hintLabel="Min 5 characters" class="login-form-field">
                  <input matInput formControlName="name" id="signup_name" name="signup_name" class="signup_name"
                    autocomplete="off">
                  <mat-hint align="end">{{signupForm.get('name').value?.length || 0}}</mat-hint>
                </mat-form-field>

              </div>
            </div>

            <div fxLayout="column" fxLayoutAlign="center start" class="field">
              <label class="login-form-field">Email*</label>
              <div>
                <mat-form-field appearance="outline" color="accent" class="login-form-field">
                  <input matInput formControlName="username" id="signup_email" name="signup_email" class="signup_email"
                    autocomplete="off" (change)="validateUsername()">
                </mat-form-field>

              </div>
            </div>
            <div fxLayout="column" fxLayoutAlign="center start" class="field">
              <label class="login-form-field">Password*</label>
              <div>
                <mat-form-field appearance="outline" color="accent" hintLabel="Min 5 characters" class="login-form-field">
                  <input matInput type="password" formControlName="password" id="signup_password" name="signup_password"
                    class="signup_password" autocomplete="off" (keyup.enter)="submit(signupForm.value)">
                  <mat-hint align="end">{{signupForm.get('password').value?.length || 0}}</mat-hint>
                </mat-form-field>

              </div>
            </div>

            <div fxLayout="column" fxLayoutAlign="center start" class="field">
              <label class="login-form-field">Confirm Password*</label>
              <div>
                <mat-form-field appearance="outline" color="accent" hintLabel="Min 5 characters" class="login-form-field">
                  <input matInput type="password" [formControl]="confirmPassword" id="signup_confirm_password" name="signup_confirm_password"
                    class="signup_confirm_password" autocomplete="off" (keyup.enter)="submit(signupForm.value)">
                  <mat-hint align="end">{{signupForm.get('password').value?.length || 0}}</mat-hint>
                  <mat-error *ngIf="!confirmPassword.valid">Not matching with password!</mat-error>
                </mat-form-field>

              </div>
            </div>

            <div fxLayout="column" fxLayoutAlign="center start" class="field">
              <label class="login-form-field">Currency</label>
              <div>
                <mat-form-field appearance="outline" color="accent" class="login-form-field">
                  <mat-select formControlName="currency" id="signup_currency" name="signup_currency" class="signup_currency"
                    placeholder="Select">
                    <mat-option>Select</mat-option>
                    <mat-option *ngFor="let ccy of countryList" [value]="ccy.currencyCode">
                      {{ccy.currency}} - {{ccy.currencyCode}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
          </div>
        </mat-card-content>
        <mat-card-actions>
          <div fxLayout="row" fxLayoutAlign="center center">
            <button mat-raised-button [disabled]="signupForm.invalid || !existingUsers || !confirmPassword.valid || !confirmPassword.value"
              type="button" (click)="submit(signupForm.value)" color="accent" id="signup_save_btn" name="signup_save_btn"
              class="signup_save_btn">Register</button>
          </div>
        </mat-card-actions>

      </mat-card>
    </div>
  </form>
  </div>
</div>